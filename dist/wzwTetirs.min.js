!function(n){var t={};function e(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(o,r,function(t){return n[t]}.bind(null,r));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){let o=e(1),{LEVELS:r,SCORE_LEVELS:i}=e(2),l=e(3);window.WzwTetirs=function(n,t){(t=t||{}).hasOwnProperty("useInnerKeyBoardEvent")||(t.useInnerKeyBoardEvent=!0);var e,a,f=t.gameWidth||320,u=t.gameHeight||430,c=t.splitPosition||222,h=t.drawColor1||"#010700",s=t.drawColor2||"#ccebce",d=t.bgColor||"#dbffdd",g=t.lineWidth||1,m=t.fontSize||17,v=t.fontSpace||17,p=t.atomwidthCount||10,w=t.atomheightCount||20,y=null,S=null,b=t.atomSpace||5,x=t.atomBorder||3,T=t.atomInset||1,k=null,C=3,E=-3,P=null,O=null,A=null,F=null,N=!1,q=!1,L=!0,M=!1,j=0,R=0,_=0,W={87:function(){J()},38:function(){J()},83:function(){z()},40:function(){z()},65:function(){Q()},37:function(){Q()},68:function(){U()},39:function(){U()},32:function(){J()}},I={83:function(){H()},40:function(){H()}};function B(){var n=Math.floor(Math.random()*o.length);return[].concat(o[n])}function D(n){if(O&&k&&A){for(var t=C+n,e=0;e<k.length;e++)for(var o=0;o<k[e].length;o++)if(1===k[e][o]){if(t+o<0?t=-o:t+o>p-1&&(t=p-o-1),E+e<0)continue;if(1===A[E+e][t+o])return}for(e=0;e<A.length;e++)for(o=0;o<A[o].length;o++)O[e][o]=A[e][o];for(e=0;e<k.length;e++)for(o=0;o<k[e].length;o++)E+e<0||t+o<0||E+e>=w||0===O[E+e][t+o]&&1===k[e][o]&&(O[E+e][t+o]=k[e][o]);C=t}}function V(){for(var n=[],t=0;t<A.length;t++){for(var e=!0,o=0;o<A[t].length;o++)if(1!==A[t][o]){e=!1;break}if(e){q=!0,R+=1,n.push(t),n.length>=4&&(R+=1);var r=i[String(R)];r>_&&(_=r)}}var a=!1;l.each(n,(function(t,e){l.scroll(0,O[e].length-1,{goo:function(n){var t=O[e].length;n=n>=t?t:n;for(var o=0;o<n;o++)O[e][o]=0},end:function(t){for(var o=0;o<O[e].length;o++)O[e][o]=0;a||(a=!0,setTimeout((function(){for(;n.length>0;){var t=n.shift();l.eachNum(t,1,(function(n){var t=n-1;A[n]=[].concat(A[t]),0===t&&(A[t]=[],l.eachNum(0,p-1,(function(n){A[t][n]=0})))}))}q=!1,O=l.arrCopy(A)}),50))}},200)}))}function G(n,t,e,o,r,i){var l=n+e*(b+y)-y,a=t+o*(b+S)-S,f=r.strokeStyle,u=r.lineWidth,c=r.fillStyle;r.strokeStyle=i,r.fillStyle=i,r.lineWidth=x,r.beginPath(),r.rect(l,a,y,S),r.stroke(),r.fillRect(l+x+T,a+x+T,y-2*x-2*T,S-2*x-2*T),r.strokeStyle=f,r.lineWidth=u,r.fillStyle=c}function K(n){n.strokeStyle=h,n.fillStyle=d,n.lineCap="butt",n.lineWidth=g,n.clearRect(0,0,f,u),n.fillStyle=h,function(n){for(var t=1;t<=p;t++)for(var e=1;e<=w;e++)G(0,0,t,e,n,s);if(O)for(t=0;t<O.length;t++)for(e=0;e<O[t].length;e++)1===O[t][e]&&G(0,0,e+1,t+1,n,h);if(F)for(t=F.length-1;t>=0;t--)if(F[t])for(e=F[t].length-1;e>=0;e--)1===F[t][e]&&G(0,0,e+1,t+1,n,h)}(n),n.beginPath(),n.moveTo(c,0),n.lineTo(c,u),n.stroke(),n.closePath(),function(n){var t=m;n.font="italic normal normal "+m+"px arial",n.fillText("Score",c+b,t),n.font="normal normal bold "+m+"px arial",t+=m,n.fillText(String(R),c+b,t),n.font="italic normal normal "+m+"px arial",t=t+m+v,n.fillText("Next",c+b,t);for(var e=1;e<=4;e++)for(var o=1;o<=4;o++){if(G(c,t,e,o,n,s),P)1===P[o-1][e-1]&&G(c,t,e,o,n,h)}n.font="italic normal normal "+m+"px arial",t=t+m+v+4*(S+b),n.fillText("Level",c+b,t),n.font="normal normal bold "+m+"px arial",t+=m,n.fillText(String(_),c+b,t),n.font="italic normal normal "+m+"px arial",t=t+m+v,n.fillText("Best",c+b,t),n.font="normal normal bold "+m+"px arial",t+=m,n.fillText(String(j),c+b,t),M&&(n.font="italic normal normal "+m+"px arial",t=t+m+v,n.fillText("Paused",c+b,t))}(n)}function z(){O&&k&&(N=!0)}function H(){N=!1}function J(){if(O&&k){for(var n=[[],[],[],[]],t=0;t<k.length;t++)for(var e=0;e<k[t].length;e++){var o=e,r=k.length-1-t;if(n[o][r]=k[t][e],!(E+o<0)){if(E+o>=w)return;if(C+r>=p||C+r<0)return;if(1===A[E+o][C+r])return}}for(k=n,t=0;t<A.length;t++)for(e=0;e<A[e].length;e++)O[t][e]=A[t][e];for(t=0;t<k.length;t++)for(e=0;e<k[t].length;e++)E+t<0||C+e<0||E+t>=w||0===O[E+t][C+e]&&1===k[t][e]&&(O[E+t][C+e]=k[t][e])}}function Q(){D(-1)}function U(){D(1)}function X(){var n;L||(L=!0,R>j&&(j=R,window.localStorage&&window.localStorage.setItem("bestscore",j)),n=function(){L=!0,O=null,A=null,k=null,P=null,q=!1,N=!1,R=0,_=0,C=3,E=-3},l.scroll(w,0,{goo:function(n){n=n>w-1?w-1:n,F||(F=new Array(w)),l.eachNum(n,w-1,(function(n){F[n]=[],l.eachNum(0,p-1,(function(t){F[n][t]=1}))}))},end:function(t){l.eachNum(0,w-1,(function(n){F[n]=[],l.eachNum(0,p-1,(function(t){F[n][t]=1}))})),n&&n(),setTimeout((function(){l.scroll(0,w-1,{goo:function(n){n=n>w-1?w-1:n,l.eachNum(0,n,(function(n){F[n]=void 0}))},end:function(n){F=null}})}),100)}}))}e=function(n){var t=document.createElement("canvas");t.width=f,t.height=u,n.appendChild(t);var e=t.getContext("2d");return e.width=f,e.height=u,e.canvas.width=f,e.canvas.height=u,e}(function(n){var t=document.querySelector("#"+n);return t.style.width=f+"px",t.style.height=u+"px",t.style.border="1px solid gray",t.style.backgroundColor=d,t}(n)),function(){var n=c-g;y=(n-=b*(p+1))/p;var t=u;S=(t-=b*(w+1))/w,j=window.localStorage&&window.localStorage.getItem("bestscore")||0}(),t.useInnerKeyBoardEvent&&(document.onkeydown=function(n){var t=W[String(n.keyCode)];t&&(n.stopPropagation(),t())},document.onkeyup=function(n){var t=I[String(n.keyCode)];t&&(n.stopPropagation(),t())}),a=e,function n(){K(a),window.requestAnimationFrame?window.requestAnimationFrame(n):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(n):setTimeout(n,33)}(),this.startGame=function(){if(L){L=!1,O=[],A=[];for(var n=0;n<w;n++){O[n]=[],A[n]=[];for(var t=0;t<p;t++)O[n][t]=0,A[n][t]=0}var e=0;!function n(){if(!M&&!L&&!q&&Date.now()-e>=(N?3:r[_])){var t=!1;k||(k=P,P=null,t=!!k),k||(k=B(),P=null,t=!!k),P||(P=B(),t=!!k),t&&H();var o=function(n,t,e,o,r){var i=!1;n:for(var a=e.length-1;a>=0;a--)for(var f=e[a].length-1;f>=0;f--)if(1===e[a][f]){var u=t+a;if(!(u<0)){var c=n+f;if(!(c<0)){if(u!==w-1&&1!==r[u+1][c]||(i=!0),0===u&&i)return-1;if(i)break n}}}if(!i)for(t=E=t+1,o=O=l.arrCopy(r),a=0;a<e.length;a++)for(f=0;f<e[a].length;f++)t+a<0||n+f<0||t+a>=w||0===o[t+a][n+f]&&1===e[a][f]&&(o[t+a][n+f]=e[a][f]);return i&&(A=l.arrCopy(o)),i?1:0}(C,E,k,O,A);1===o?(k=null,C=3,E=-3,V()):-1===o&&X(),e=Date.now()}L||(window.requestAnimationFrame?window.requestAnimationFrame(n):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(n):setTimeout(n,5))}()}},this.pauseGame=function(){!L&&O&&A&&(M=!M)},this.turboModeON=z,this.turboModeOFF=H,this.rotateStuff=J,this.left=Q,this.right=U,this.resetGame=X}},function(n,t){n.exports=[[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[1,1,1,1],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,0,0],[0,1,1,1],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,1,0,0],[0,1,0,0]],[[0,0,0,0],[0,1,1,1],[0,0,0,1],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[0,0,1,0],[0,1,1,0]],[[0,0,0,0],[0,1,1,1],[0,1,0,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,0,1,0],[0,0,1,0]],[[0,0,0,0],[0,0,0,1],[0,1,1,1],[0,0,0,0]],[[0,1,0,0],[0,1,0,0],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,1,1],[0,0,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[0,1,1,0],[0,0,1,0]],[[0,0,0,0],[0,0,1,0],[0,1,1,1],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[0,0,1,1],[0,0,1,0]],[[0,0,0,0],[0,1,1,0],[0,0,1,1],[0,0,0,0]],[[0,0,0,0],[0,1,1,0],[0,0,1,1],[0,0,0,0]],[[0,0,0,0],[0,0,1,0],[0,1,1,0],[0,1,0,0]],[[0,0,0,0],[0,0,1,0],[0,1,1,0],[0,1,0,0]],[[0,0,0,0],[0,0,1,1],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,0,1,1],[0,1,1,0],[0,0,0,0]],[[0,0,0,0],[0,1,0,0],[0,1,1,0],[0,0,1,0]],[[0,0,0,0],[0,1,0,0],[0,1,1,0],[0,0,1,0]]]},function(n,t){n.exports={LEVELS:[800,700,600,550,500,450,400,350,300,250,200,150,130,100,90,80,70,60,50,40,30,20,10,5],SCORE_LEVELS:{50:1,100:2,150:3,200:4,250:5,300:6,350:7,400:8,450:9,500:10,550:11,600:12,700:13,850:14,1e3:15,1100:16,1300:17,1500:18,2e3:19,2500:20,3e3:21,4e3:22,5e3:23}}},function(n,t){n.exports={scroll:function(n,t,e,o){var r=n,i=r=r||0,l=t-i;if(0!==l){var a=!1,f=o||500,u=Date.now();!function n(){setTimeout((function(){var o=Date.now()-u,r=o/f,c=Math.ceil(i+r*l);a||e&&e.goo&&e.goo(c),f<=o?(a=!0,e.end(t)):setTimeout(n,1e3/60)}),1e3/60)}()}else e&&e.end&&e.end(t)},printArr:function(n){var t="";each(n,(function(n,e){t+=n+":"+e.join(" ")+"\n"})),console.log(t)},arrCopy:function(n){for(var t=[],e=0;e<n.length;e++){t[e]=[];for(var o=0;o<n[o].length;o++)t[e][o]=n[e][o]}return t},eachNum:function(n,t,e){if(n>t)for(var o=n;o>=t;o--)e&&e(o);else for(o=n;o<=t;o++)e&&e(o)},each:function(n,t){for(var e=0;e<n.length;e++)t&&t(e,n[e])}}}]);